<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-2"><button type="button" class="btn btn-warning" (click)="goBack()"><i class="fa fa-chevron-left"><a> Retour</a></i></button></div>
  <div class="col-md-6"><h3 class="title">Nouveau Client</h3></div>
  <div class="col-md-3"></div>
</div>


  <div class="single-wrpr beigeback">
    <form [formGroup]="myForm" novalidate (ngSubmit)="save()">
      <div class="form-group col-sm-12">
        <!-- Autocomplete companie -->
        <label>Entreprise</label>
        <input
          *ngIf="!fetchedUser.companies.length"
          [ngModelOptions]="{standalone: true}"
          [(ngModel)]="autocompleteCompanie"
          placeholder="Select"
          (ngModelChange)="searchCompanies()"
          mdInput
        >
        <div *ngFor="let fetchedCompanie of fetchedCompanies; let i=index">
          {{fetchedCompanie.name}}
          <button type="button" (click)="selectCompanie(fetchedCompanie)">select</button>
        </div>
        <div *ngIf="fetchedCompanies.length == 0 && autocompleteCompanie !=''">
          Pas de resultats,
          <a [routerLink]="['/companie/new']" class="admn-btn">
            Ajouter Entreprise
          </a>
        </div>
        <div *ngFor="let vendor of fetchedUser.companies; let i=index">
          {{vendor.name}}
          <button type="button" (click)="removeCompanie(i)"><i class="fa fa-times"></i></button>
        </div>
        <!-- Autocomplete companie -->
      </div>



      <div class="form-group col-sm-12">
          <!-- Autocomplete -->
          <label>Type User</label>
          <input
            *ngIf="!fetchedUser.type.length"
            [ngModelOptions]="{standalone: true}"
            [(ngModel)]="autocompleteTypeUser"
            placeholder="Select type User"
            (ngModelChange)="searchTypeUser()"
            mdInput
          >
          <div *ngFor="let fetchedTypeUser of fetchedTypeUsers; let i=index">
            {{fetchedTypeUser}}
            <button type="button" (click)="selectTypeUser(fetchedTypeUser)">select</button>
          </div>
          <div *ngFor="let typeUser of fetchedUser.type; let i=index">
            {{typeUser}}
            <button type="button" (click)="removeTypeUser(i)"><i class="fa fa-times"></i></button>
          </div>
          <!-- Autocomplete -->
        </div>

          <!-- <select
            [ngModelOptions]="{standalone: true}"
            [(ngModel)]="typeUserDropDown"
          >
            <option *ngFor="let n of typeUser" [attr.value]="n.value">{{n.value}}</option>
          </select> -->




      <div class="form-group col-sm-12">

        <input
          type="text"
          class="form-control"
          formControlName="email"
          [(ngModel)]="fetchedUser.email"
          placeholder="Email">
      </div>
      <div formGroupName="profile">
        <div class="form-group col-sm-12">
          <label>Couleur Calendrier</label>
          <input
            type="color"
            formControlName="colorCalendar"
            [(ngModel)]="fetchedUser.profile.colorCalendar"
          >
        </div>
        <div class="form-group col-sm-12">
          <input
            type="text"
            class="form-control"
            formControlName="name"
            [(ngModel)]="fetchedUser.profile.name"
            placeholder="Client's Name">
        </div>

        <div class="form-group col-sm-12">
          <input
            type="text"
            class="form-control"
            formControlName="lastName"
            [(ngModel)]="fetchedUser.profile.lastName"
            placeholder="Client's lastName">
        </div>


        <div class="form-group col-sm-12">
          <input
            type="text"
            class="form-control"
            formControlName="phoneNumber"
            [(ngModel)]="fetchedUser.profile.phoneNumber"
            placeholder="Phone Number">
        </div>

      </div>
      <div class="valid-edit">
        <button type="submit" [disabled]="!myForm.valid" [ngClass]="{'done':myForm.valid,'pas-done':!myForm.valid}">Done</button>
        <button type="button" (click)="saveAndCreateProject()" [disabled]="!myForm.valid" [ngClass]="{'done':myForm.valid,'pas-done':!myForm.valid}">Done and create project</button>
        <button type="button" *ngIf="fetchedUser._id" class="delete" md-button (click)="openDialogDelete()">Delete</button>
      </div>
      <div class="clearfix"></div>
    </form>
  </div>
